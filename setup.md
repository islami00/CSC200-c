# Though fun to do, I will not be using coderunner. It is unsustainable

## FUTURE ISLAM HERE, I agree with you, but..

1. As I thought, vscode tasks are the way to go about this
2. I have gcc and gdb installed as guided by [that video](#separate-video-desc-with-details)
3. Now all I have to do is setup platform agnostic tasks to work with them, and I have, for gcc
4. To work with gdb, I'll have to do a bit more tinkering and understanding the commands, but I wholly understand it rn
5. Sources:
   1. [the tutorial](https://www.youtube.com/watch?v=IdhvvlZkS9g)
   2. [vscode tasks guide **!IMPORTANT**](https://code.visualstudio.com/docs/editor/tasks)
   3. [formal tasks doc](https://code.visualstudio.com/docs/editor/tasks-appendix)
   4. [dolarsign vars in vscode](https://code.visualstudio.com/docs/editor/variables-reference)
   5. [On using del](https://stackoverflow.com/questions/17607612/equivalent-of-rm-and-mv-in-windows-cmd/17607871)
   6. [Microsoft docs for del](https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/del)
   7. [Vscode tips for cpp idefication](https://code.visualstudio.com/docs/cpp/cpp-ide)
   8. [even more](https://code.visualstudio.com/docs/cpp/config-mingw)
   9. [regex, from #1](https://regex101.com/)
   10. Command cloned: `gcc h.c -o h && ./h && rm h`
6. Requirements:
   1. vscode, of course,
   2. gcc installed and set as path variable, or installed and linked to.
   3. a bash shell - not compulsory as del rewiring is done in windows.
7. Further reading: I don't remember where, but I can recall reading on the steps of gcc compiler, should be in bookmarks on linux / windows, or linked in the md file of my c repo
   1. [A good doc for the above](https://dmalcolm.fedorapeople.org/gcc/2015-08-31/rst-experiment/gcc-command-options.html)
   2. [Its explanationof the -g](https://dmalcolm.fedorapeople.org/gcc/2015-08-31/rst-experiment/options-for-debugging-your-program-or-gcc.html#cmdoption-g)
      Apparently, -o is optimised output. huh...final steps eh?
8. Linting: [vscode extension](https://code.visualstudio.com/docs/cpp/cpp-ide#_code-formatting)

## Debugging and run options

Stuff like the g flag vscode used here:
Got this from the default debugger (which works! after installing the c/c++ extension and the gcc and gdb)

```JSON
{
    "tasks": [
        {
            "type": "cppbuild",
            "label": "C/C++: gcc.exe build active file",
            "command": "C:\\msys64\\mingw64\\bin\\gcc.exe",
            "args": [
                "-g",
                "${file}",
                "-o",
                "${fileDirname}\\${fileBasenameNoExtension}.exe"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "Task generated by Debugger."
        }
    ],
    "version": "2.0.0"
}
```

The above was obtained from running the c/c++ build and debug command.
Get there either by:  
  
- right-click in c file and run build and debug
- ctrl+p then > then c/c++ build and debug
  On init, you'll be asked to choose either gcc or cl.exe to use as a debugger
  
gcc yields the config above.
Also, I've realised that with the above config, it seems I won't have to worry about setting this task up again now that I understand it.
Instead of going agnostic, I could just gen this each place I am and have it be dumped as the default build task in .vscode
  
So yeah, that is my journey.
The above is simply a build task, my cleanup task could be streamlined further to include that
  
# VSCODE
  
1. install code runner and c/c++ linter
2. Setup terminal output globally or in .vscode\settings.json of your workspace home directory.(can be found by opening workspace and ticking the setting in workspace)
3. [video](https://youtu.be/77v-Poud_io)
  
# Compiler - WIndows  
  
1. Install [msys2](https://www.msys2.org/) 64 bit for windows
2. After install tick the launch msys264 on the last page of the installer.
3. Then update packages `pacman -Syu`.  
   1. flags explained: sync, yes, update. 
   2. Then finally answer y to install updates.
4. Then go to `msys2 msys` , run `pacman -Su` to update core packages.
   1. select yes also
5. Then open `msys2 mingw x64`
6. (Optional,skip to 8) Search for gcc compiler for c/c++ and openMP for 64bit
   1. `pacman -Ss gcc`
7. Find the one with name GNU c/c++ for mingw64 and title:
   1. `mingw-w64-x86_64-gcc`
      As of writing (19/08/21):  
  
```sh
mingw64/mingw-w64-x86_64-gcc 10.3.0-5 (mingw-w64-x86_64-toolchain)
    GNU Compiler Collection (C,C++,OpenMP) for MinGW-w64

```

8. Install with : `pacman -S mingw-w64-x86_64-gcc`  - Compiler installed for windows and C.
9. While that is loading, the entire setup till the compiler is essentially setting up a suitable unix env with a package manager (which comes out of the box with ubuntu or wsl).
10. (ubuntu) the difference here is that we could use apt.
11. compiler name: `gcc` for c, and `g++` for c++
12. Next we install the debugger

```sh
mingw64/mingw-w64-x86_64-gdb 10.2-2 (mingw-w64-x86_64-toolchain)
    GNU Debugger (mingw-w64)
```

13. Note how most of our packages have the `mingw-w64-x86_64` toolchain
14. cmd: `pacman -S mingw-w64-x86_64-gdb`
    That's the final install. We now have all `gcc`,`g++`, and `gdb`:  compilers and debuggers
15. Note: `gcc` and `g++` install a tear down `gdb` version. Atleast the second last stable major release - ubuntu I guess. At this point, windows only has `gcc` and `gdb`. The essentials.

# Adding gcc, gdb to path

1. Navigate to mingw64 install folder. mine is at c:
   So: `C:\msys64\mingw64\bin` is the path. F
2. Add that path to the path environment variable for system by editing it, adding a new entry with the path pasted in

# Compiler -ubuntu

1. Ubuntu resources: [Can I use a C/C++ compiler?](https://askubuntu.com/a/30997)
   1. Actual [guide](https://www.ubuntubuzz.com/2018/11/setup-cpp-programming-tools-on-ubuntu-for-beginners.html)
   2. [for c](https://www.ubuntubuzz.com/2017/09/setup-c-programming-tools-on-ubuntu-for-beginners.html)
2. First check package versions then install if not on
3. Install: `sudo apt install gcc && sudo apt install g++ && sudo apt install gdb`
4. After that I think no need for path as the compiler is by default in path cuz of apt superpowers, if need to point checkout [vscodeTut !Important if you add custom header files](https://code.visualstudio.com/docs/cpp/configure-intellisense-crosscompilation)

# Separate, video desc with details

[Download and install mingw](https://www.youtube.com/watch?v=0HD0pqVtsmw)  
In this tutorial you will learn to download and install MinGW-w64 ( Minimalist GNU for Windows ) toolset ( ( gcc g++ gdb ) ) for developing C and Cpp programs on windows 10 computer using msys2 Software Distribution and Building Platform.  
  
Topics :
00:00 Introduction and Downloading Msys2  
03:12 Installing Mysys2 Updating Packages  
07:35 Installing gcc and g++  
12:14 Installing gdb debugger  
16:00 Setting up Path Environment Variable  
18:48 Check gcc g+= and gdb version in cmd  
  
First we will download and install msys2.  
After that we use the series of commands to install packages and update system.  
  
Commands used :  
Update the package database and base packages using  
pacman -Syu  
  
Update rest of the base packages  
pacman -Su  
  
Now open up the Msys MinGW terminal  
To install gcc and g++ for C and C++  
For 64 bit  
pacman -S mingw-w64-x86_64-gcc  
For 32 bit  
pacman -S mingw-w64-i686-gcc  
  
To install the debugger ( gdb ) for C and C++  
For 64 bit  
pacman -S mingw-w64-x86_64-gdb  
For 32 bit  
pacman -S mingw-w64-i686-gdb  
  
To check  
gcc version : gcc --version  
g++ version : g++ --version  
gdb version : gdb --version  
  
After installing these programs, we need to set the Path environment variable.  
